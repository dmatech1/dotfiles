#!/bin/sh

printf "╔════════════════════════════════════════════════════════════════════════════╗\n"
printf "║ %-74s ║\n" "$HOSTNAME ($(hostname -I | sed 's/\s\+$//'))"
printf "╠═════════╤════════╤══════════════════════════════════════════════════╤══════╣\n"
for A in /etc/ssh/ssh_host_*.pub
do
    ssh-keygen -lf $A;
    ssh-keygen -E md5 -lf $A;
done | perl -ne 'if (m/^(\d+) (SHA256|MD5):(.*?) (.*) \((.*)\)$/) { print(sprintf("║ %-7s │ %-6s │ %-48s │ %4s ║\n", $5, $2, $3, $1)); }'
printf "╚═════════╧════════╧══════════════════════════════════════════════════╧══════╝\n"
